;;; operator-mode.el --- simple electric operator  -*- lexical-binding: t; -*-

;; Copyright (C) 2018-2019  Andreas R√∂hler

;; Author: Andreas R√∂hler <andreas.roehler@online.de>
;; Keywords: convenience

;; Version: 0.0.1
;; This program is free software; you can redistribute it and/or modify
;; it under the terms of the GNU General Public License as published by
;; the Free Software Foundation, either version 3 of the License, or
;; (at your option) any later version.

;; This program is distributed in the hope that it will be useful,
;; but WITHOUT ANY WARRANTY; without even the implied warranty of
;; MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
;; GNU General Public License for more details.

;; You should have received a copy of the GNU General Public License
;; along with this program.  If not, see <https://www.gnu.org/licenses/>.

;;; Commentary: This is a still naive prototype


;;

;;; Code:

(defvar operator-mode-debug t
  "Debugging mode")

(defvar operator-known-operators nil

  "Known chars used as operators.")

(setq operator-known-operators (list ?·π∫ ?¬° ?Àô ?ƒä ?·πª ?Ãà ?‚à∫ ?·∏ä ?·∏ñ ?‚ôØ ?‚üµ ?ƒñ ?·πí ?‚Öã ?‚Üî ?·∏û ?·∏ó ?‚ãÜ ?‚Üö ?ƒ† ?·πì ?‚áî ?·∏¢ ?·∏î ?¬≠ ?‚â∞ ?ƒ∞ ?·πê ?‚ã¶  ?·πÄ ?·∏ï ?‚àÖ ?‚â£ ?·πÑ ?·πë ?‚â¢ ?»Æ ?«¢ ?‚ü® ?‚áè ?·πñ ?«£ ?ÃÑ ?¬Ø ?·πò ?‚Ñï ?‚ü© ?‚â± ?·π† ?‚Ñô ?¬ø ?‚ãß ?·π™ ?‚Ñù ?‚àÅ ?‚ãÄ ?·∫Ü ?‚Ñ§ ?Ãã ?‚ñ° ?·∫ä ?‚âé ?‚ãÇ ?‚ãí ?·∫é ?‚òπ ?≈Å ?Œß ?≈ª ?œ™ ?√ò ?‚ãì ?»ß ?Œõ ?¬∂ ?œÆ ?·∏É ?‚úâ ?¬ß ?Œó ?ƒã ?‚ò∫ ?ÃÇ ?œ§ ?·∏ã ?œö ?Ã® ?Œò ?ƒó ?‚ãê ?Ãå ?∆õ ?·∏ü ?‚ãë ?√ó ?‚®Ö ?ƒ° ?‚ä™ ?‚à£ ?Œ∏ ?·∏£ ?·∫§ ?‚Äº ?Àù ?·πÅ ?·∫æ ?‚Åâ ?‚Ü∞ ?·πÖ ?·ªê ?‚Äú ?‚®Ü ?»Ø ?·∫• ?¬´ ?ùìê ?·πó ?·∫ø ?¬ª ?ùìë ?·πô ?·ªë ?ùìí ?·π° ?·∫¶ ?√ã ?ùìì ?·π´ ?·ªÄ ?·∏¶ ?ùìî ?·∫á ?·ªí ?√è ?ùìï ?·∫ã ?·∫ß ?ùìñ ?·∫è ?·ªÅ ?√ú ?ùìó ?≈º ?·ªì ?·∫Ñ ?ùìò ?‚ü∑ ?·µù ?·∫å ?ùìô ?‚ÜÆ ?·∫¨ ?≈∏ ?ùìö ?‚áé ?·ªÜ ?‚Äû ?ùìõ ?‚â¥ ?·ªò ?ùìú ?·π∫ ?·∫≠ ?√´ ?ùìù ?·πª ?·ªá ?·∏ß ?ùìû ?·∏ñ ?·ªô ?√Ø ?ùìü ?·πí ?Í≠ú ?ùì† ?·∏ó ?·∂• ?·∫ó ?ùì° ?·πì ?·∫™ ?√º ?ùì¢ ?«¢ ?·ªÑ ?·∫Ö ?ùì£ ?·∏î ?·ªñ ?·∫ç ?ùì§ ?·πê ?·∫´ ?√ø ?ùì• ?·∏ï ?·ªÖ ?√Å ?ùì¶ ?·πë ?·ªó ?ƒÜ ?ùìß ?«£ ?‚Ñ° ?√â ?ùì® ?ƒÄ ?‚âà ?«¥ ?ùì© ?ƒí ?‚ãÇ ?√ç ?ùì™ ?·∏† ?‚ãÉ ?·∏∞ ?ùì´ ?ƒ™ ?‚ãÅ ?ƒπ ?ùì¨ ?≈å ?‚ãà ?·∏æ ?ùì≠ ?≈™ ?‚âè ?≈É ?ùìÆ ?»≤ ?·∏à ?√ì ?ùìØ ?ƒÅ ?·∏â ?·πî ?ùì∞ ?ƒì ?·∏ú ?≈î ?ùì± ?·∏° ?·∏ù ?≈ö ?ùì≤ ?ƒ´ ?‚âó ?√ö ?ùì≥ ?≈ç ?‚àê ?·∫Ç ?ùì¥ ?≈´ ?·π® ?√ù ?ùìµ ?»≥ ?·π© ?≈π ?ùì∂ ?‚âµ ?·∏∏ ?√° ?ùì∑ ?Œí ?·πú ?ƒá ?ùì∏ ?Õ∞ ?·∏π ?√© ?ùìπ ?œ® ?·πù ?«µ ?ùì∫ ?≈ê ?‚Ä† ?√≠ ?ùìª ?≈∞ ?‚Ñ∏ ?·∏± ?ùìº ?≈ë ?¬∞ ?ƒ∫ ?ùìΩ ?≈± ?‚âñ ?·∏ø ?ùìæ ?Œô ?‚àÉ ?≈Ñ ?ùìø ?‚ãà ?‚ôÄ ?√≥ ?ùîÄ ?œ¶ ?‚àÄ ?·πï ?ùîÅ ?œ¢ ?¬Ω ?≈ï ?ùîÇ ?≈ë ?‚Öì ?≈õ ?ùîÉ ?‚Äñ ?¬º ?√∫ ?ùë® ?Œñ ?‚Öï ?·∫É ?ùë© ?·∫§ ?‚Öô ?√Ω ?ùë™ ?·∫æ ?‚Öõ ?≈∫ ?ùë´ ?·ªê ?‚Öî ?‚âò ?ùë¨ ?·∫• ?‚Öñ ?‚üÖ ?ùë≠ ?·∫ø ?¬æ ?‚üÜ ?ùëÆ ?·ªë ?‚Öó ?‚âõ ?ùëØ ?·¥≠ ?‚Öú ?‚äπ ?ùë∞ ?·¥Ω ?‚Öò ?‚àπ ?ùë± ?·∫¶ ?‚Öö ?‚Üí ?ùë≤ ?·ªÄ ?‚Öù ?‚ä∏ ?ùë≥ ?·ªí ?‚Öû ?‚ä£ ?ùë¥ ?·∫ß ?œ´ ?‚âÇ ?ùëµ ?·ªÅ ?‚ãó ?‚àî ?ùë∂ ?·ªì ?‚â≥ ?‚à∏ ?ùë∑ ?·∫™ ?«¨ ?‚âê ?ùë∏ ?·ªÑ ?«≠ ?»¶ ?ùëπ ?·ªñ ?‚Ñ™ ?·∏Ç ?ùë∫ ?·∫´ ?Œª ?ƒä ?ùëª ?·ªÖ ?‚ü® ?·∏ä ?ùëº ?·ªó ?‚åä ?ƒñ ?ùëΩ ?√Ç ?‚ãâ ?·∏û ?ùëæ ?ƒà ?‚Ü¶ ?ƒ† ?ùëø ?√ä ?‚äß ?·∏¢ ?ùíÄ ?ƒú ?‚äØ ?ƒ∞ ?ùíÅ ?ƒ§ ?‚äÆ ?·πÄ ?ùíÇ ?√é ?‚â¢ ?·πÑ ?ùíÉ ?ƒ¥ ?‚âÑ ?»Æ ?ùíÑ ?√î ?‚Ññ ?·πñ ?ùíÖ ?≈ú ?‚ä≠ ?·πò ?ùíÜ ?√õ ?‚ä¨ ?·π† ?ùíá ?≈¥ ?‚äñ ?·π™ ?ùíà ?≈∂ ?‚äò ?·∫Ü ?ùíâ ?·∫ê ?‚äó ?·∫ä ?ùíä ?√¢ ?‚Ä∞ ?·∫é ?ùíã ?ƒâ ?‚Çß ?≈ª ?ùíå ?√™ ?¬£ ?»ß ?ùíç ?ƒù ?‚âº ?·∏É ?ùíé ?ƒ• ?‚àù ?ƒã ?ùíè ?√Æ ?‚ü© ?·∏ã ?ùíê ?ƒµ ?‚åã ?ƒó ?ùíë ?√¥ ?‚ãä ?·∏ü ?ùíí ?≈ù ?‚ñ° ?ƒ° ?ùíì ?√ª ?‚ã¢ ?·∏£ ?ùíî ?≈µ ?‚ã£ ?·πÅ ?ùíï ?≈∑ ?œõ ?·πÖ ?ùíñ ?·∫ë ?‚äÇ ?»Ø ?ùíó ?√Ä ?‚âΩ ?·πó ?ùíò ?√à ?‚äÉ ?·πô ?ùíô ?√å ?¬µ ?·π° ?ùíö ?«∏ ?‚ÇÆ ?·π´ ?ùíõ ?√í ?·∫Æ ?·∫á ?ùíú ?√ô ?·∫Ø ?·∫ã ?ùíû ?·∫Ä ?·∫∞ ?·∫è ?ùíü ?·ª≤ ?·∫± ?≈º ?ùí¢ ?√† ?·∫∂ ?‚à∑ ?ùí• ?√® ?·∫∑ ?‚âî ?ùí¶ ?√¨ ?·∫¥ ?‚àª ?ùí© ?«π ?·∫µ ?‚Üê ?ùí™ ?√≤ ?·π¶ ?‚ü™ ?ùí´ ?√π ?·πß ?‚â§ ?ùí¨ ?·∫Å ?œó ?‚âÆ ?ùíÆ ?·ª≥ ?œï ?‚â≤ ?ùíØ ?‚âô ?œ± ?‚âï ?ùí∞ ?Œ≤ ?‚äª ?‚â° ?ùí± ?‚Ñ∂ ?·πé ?‚áí ?ùí≤ ?‚ÖÄ ?·πè ?ƒÄ ?ùí≥ ?·∏à ?·πå ?ƒí ?ùí¥ ?·∏â ?·π∏ ?·∏† ?ùíµ ?·∏ú ?·πç ?ƒ™ ?ùí∂ ?·∏ù ?·ππ ?≈å ?ùí∑ ?¬∑ ?»¨ ?≈™ ?ùí∏ ?‚Çµ ?»≠ ?»≤ ?ùíπ ?¬¢ ?‚óá ?ƒÅ ?ùíª ?‚óå ?œú ?ƒì ?ùíΩ ?‚àò ?Œï ?·∏° ?ùíæ ?‚àò ?Œü ?ƒ´ ?ùíø ?‚âÖ ?‚áë ?‚â† ?ùìÄ ?√á ?Œ• ?≈´ ?ùìÅ ?·∏ê ?·µÖ ?»≥ ?ùìÇ ?»® ?·µü ?‚â• ?ùìÉ ?ƒ¢ ?À† ?‚ü´ ?ùìÖ ?·∏® ?·µä ?‚âØ ?ùìÜ ?ƒ∂ ?·∂ø ?‚â≥ ?ùìá ?ƒª ?·∂∂ ?‚âü ?ùìà ?≈Ö ?ÿã ?‚Åá ?ùìâ ?≈ñ ?‚Ç≥ ?√Ö ?ùìä ?≈û ?‚àΩ ?√Ü ?ùìã ?≈¢ ?‚àµ ?√ê ?ùìå ?√ß ?‚â¨ ?Œë ?ùìç ?·∏ë ?‚óØ ?Œí ?ùìé ?»© ?‚òÖ ?Œß ?ùìè ?ƒ£ ?‚äû ?Œî ?ùîÑ ?·∏© ?‚ò° ?Œï ?ùîÖ ?ƒ∑ ?‚ÑÉ ?Œ¶ ?ùîá ?ƒº ?‚âî ?Œì ?ùîà ?≈Ü ?‚Ä° ?Œô ?ùîâ ?≈ó ?‚ãÑ ?Œö ?ùîä ?≈ü ?œù ?Œõ ?ùîç ?≈£ ?‚àî ?Œú ?ùîé ?‚áµ ?‚ÇØ ?Œù ?ùîè ?·π® ?Œµ ?Œ© ?ùîê ?·π© ?‚âï ?Œ® ?ùîë ?·∏∏ ?‚â∑ ?Œ° ?ùîí ?·πú ?‚Ç≤ ?Œ£ ?ùîì ?·∏π ?‚Ç¥ ?Œ§ ?ùîî ?·πù ?‚Üù ?Œ• ?ùîñ ?‚Ä° ?‚ãñ ?Œû ?ùîó ?‚âù ?‚â∂ ?Œñ ?ùîò ?‚âô ?‚â≤ ?Œ± ?ùîô ?‚Ç´ ?‚úß ?Œ≤ ?ùîö ?·∫† ?‚ú† ?œá ?ùîõ ?·∏Ñ ?‚ââ ?Œ¥ ?ùîú ?·∏å ?‚ôÆ ?Œµ ?ùîû ?·∫∏ ?‚Üó ?œÜ ?ùîü ?·∏§ ?‚Ä® ?Œ≥ ?ùî† ?·ªä ?‚àÑ ?Œπ ?ùî° ?·∏≤ ?êÜé ?Œ∫ ?ùî¢ ?·∏∂ ?‚ã† ?Œª ?ùî£ ?·πÇ ?‚äÑ ?Œº ?ùî§ ?·πÜ ?‚ã° ?ŒΩ ?ùî• ?·ªå ?‚äÖ ?œâ ?ùî¶ ?·πö ?‚Üñ ?œà ?ùîß ?·π¢ ?Œø ?œÅ ?ùî® ?·π¨ ?‚àÇ ?œÉ ?ùî© ?·ª§ ?¬∂ ?œÑ ?ùî™ ?·πæ ?‚âæ ?œÖ ?ùî´ ?·∫à ?‚Üò ?Œæ ?ùî¨ ?·ª¥ ?¬ß ?Œ∂ ?ùî≠ ?·∫í ?‚âø ?≈ê ?ùîÆ ?·∫° ?‚Üô ?≈∞ ?ùîØ ?·∏Ö ?‚Ç© ?≈ë ?ùî∞ ?·∏ç ?‚Üë ?≈± ?ùî± ?·∫π ?œÖ ?‚Ñë ?ùî≤ ?·∏• ?œê ?‚ãò ?ùî≥ ?·ªã ?‚ö† ?Œú ?ùî¥ ?·∏≥ ? ± ?Œù ?ùîµ ?·∏∑ ?·µã ?‚çü ?ùî∂ ?·πÉ ?·µì ?‚Ñ´ ?‚®Ä ?ùê¥ ?·ªç ?‚âä ?≈í ?ùêµ ?·πõ ?‚âå ?‚ãÅ ?ùê∂ ?·π£ ?‚äº ?‚®Ç ?ùê∑ ?·π≠ ?‚ãÄ ?Œ† ?ùê∏ ?·ª• ?‚äü ?‚Ñú ?ùêπ ?·πø ?‚ä† ?√û ?ùê∫ ?·∫â ?¬Æ ?‚®Ñ ?ùêª ?·ªµ ?‚ìà ?‚®É ?ùêº ?·∫ì ?‚ô£ ?‚ãÉ ?ùêΩ ?‚Ç¨ ?‚Ç¢ ?≈ë ?ùêæ ?‚ô≠ ?‚ãé ?Œû ?ùêø ?¬´ ?¬§ ?‚ü¶ ?ùëÄ ?¬ª ?‚åÄ ?‚üß ?ùëÅ ?‚âß ?√∑ ?‚ÅΩ ?ùëÇ ?‚Üê ?‚âë ?‚Åæ ?ùëÉ ?‚Äû ?‚àÖ ?‚Å∫ ?ùëÑ ?‚â© ?‚â• ?‚Åª ?ùëÖ ?‚Äú ?‚ãß ?‚Å∞ ?ùëÜ ?‚Ñè ?‚ä∫ ?¬π ?ùëá ?Õ± ?‚â§ ?¬≤ ?ùëà ?œ© ?‚åû ?¬≥ ?ùëâ ?Œπ ?‚ã¶ ?‚Å¥ ?ùëä ?«¨ ?‚åü ?‚Åµ ?ùëã ?«≠ ?‚ä∏ ?‚Å∂ ?ùëå ?œß ?‚à• ?‚Å∑ ?ùëç ?ƒÑ ?‚ã® ?‚Å∏ ?ùëé ?ƒò ?‚àñ ?‚Åπ ?ùëè ?ƒÆ ?‚à£ ?‚Åº ?ùëê ?«™ ?‚Ç∑ ?·¥Æ ?ùëë ?≈≤ ?‚äè ?ƒà ?ùëí ?ƒÖ ?‚äê ?·¥∞ ?ùëì ?ƒô ?‚äÜ ?·¥∑ ?ùëî ?ƒØ ?‚ã© ?·¥∏ ?ùëñ ?«´ ?‚äá ?·¥π ?ùëó ?≈≥ ?‡∏ø ?·¥∫ ?ùëò ?‚áÜ ?‚úù ?·¥æ ?ùëô ?‚Çæ ?‚Ç§ ?·¥ø ?ùëö ?‚üÖ ?‚Ç± ?≈ú ?ùëõ ?‚â¶ ?‚àº ?·µÄ ?ùëú ?‚Ç§ ?‚ñµ ?‚±Ω ?ùëù ?‚â® ?‚åú ?≈∂ ?ùëû ?¬¨ ?‚Äø ?·∫ê ?ùëü ?‚ü∑ ?‚åù ?·µá ?ùë† ?‚ÜÆ ?œ∞ ?·µà ?ùë° ?‚áé ?‚Ä≤ ?·∂† ?ùë¢ ?‚ôÇ ?œÇ ?·µè ?ùë£ ?‚Ç• ?œë ?·µê ?ùë§ ?‚â± ?‚áì ?‚Åø ?ùë• ?‚âØ ?‚áê ?·µñ ?ùë¶ ?‚â∞ ?·∂∑ ?·µó ?ùëß ?‚à§ ?‚Äµ ?À£ ?Œ¶ ?‚âÅ ?‚ãç ?‚Çç ?Œ® ?‚äô ?‚ò£ ?‚Çé ?Œ° ?‚àÆ ?¬¶ ?‚Çä ?‚Ü± ?‚ä• ?¬∑ ?‚Çã ?œ∫ ?‚Ç± ?‚úì ?‚ÇÄ ?œ∑ ?‚â∫ ?¬© ?‚ÇÅ ?Œ§ ?‚àè ?‚ä° ?‚ÇÇ ?Õø ?‚ÄÅ ?‚Üì ?‚ÇÉ ?¬™ ?‚áÑ ?‚Ñª ?‚ÇÑ ?‚Éñ ?‚üÜ ?‚â≥ ?‚ÇÖ ?‚É° ?Ô∑º ?‚ãõ ?‚ÇÜ ?¬∫ ?œ£ ?‚â© ?‚Çá ?‚Éó ?‚äè ?‚ô• ?‚Çà ?Õç ?‚äê ?‚àÜ ?‚Çâ ?‚àÄ ?‚úπ ?∆õ ?‚Çå ?‚àß ?‚ãÜ ?‚Üê ?‚Çê ?‚àó ?‚äÜ ?‚ãö ?‚Çë ?‚ä• ?‚äÑ ?„Äö ?‚Çï ?‚Ä¢ ?‚âª ?‚â® ?·µ¢ ?‚Ä£ ?‚äá ?‚â± ?‚±º ?‚ó¶ ?‚äÖ ?‚â∞ ?‚Çñ ?‚à© ?‚àö ?‚à¶ ?‚Çó ?œá ?‚áÖ ?‚à§ ?‚Çò ?‚óé ?·∫Æ ?‚äà ?‚Çô ?‚óØ ?·∫Ø ?‚äâ ?‚Çí ?‚óè ?·∫∞ ?üõë ?‚Çö ?‚óã ?·∫± ?¬∂ ?·µ£ ?‚åä ?·∫¥ ?‚ãî ?‚Çõ ?‚åã ?·∫µ ?„Äõ ?‚Çú ?‚åû ?‚Ü® ?‚ô† ?·µ§ ?‚åü ?ƒÇ ?‚äÜ ?‚Çì ?‚åà ?ƒî ?‚ää ?Ã∞ ?‚åâ ?ƒû ?‚äá ?√Ä ?‚åú ?ƒ¨ ?‚äã ?√à ?‚à™ ?≈é ?‚Ñ° ?√å ?‚åù ?≈¨ ?‚Ç¶ ?«∏ ?¬∏ ?ƒÉ ?‚à¥ ?√í ?‚áä ?ƒï ?‚âú ?√ô ?‚Üß ?ƒü ?‚àù ?·∫Ä ?‚ü± ?ƒ≠ ?‚áö ?·ª≤ ?‚Ä† ?≈è ?‚áí ?√† ?‚Ü° ?≈≠ ?·¥Ø ?√® ?œØ ?·π¶ ?·∂± ?√¨ ?‚óà ?·πß ?·∂¢ ?«π ?‚óÜ ?«ç ?·µÑ ?√≤ ?√∑ ?ƒå ?·∂£ ?√π ?‚óá ?ƒé ?·µé ?·∫Å ?‚Üô ?ƒö ?·µö ?·ª≥ ?‚áô ?«¶ ? ¥ ?√• ?‚Üò ?»û ?·∂∫ ?√¶ ?‚áò ?«è ?‚äõ ?‚äû ?‚Ñì ?«® ?‚àÅ ?‚äü ?Œ∑ ?ƒΩ ?‚ãè ?‚ä° ?‚àÑ ?≈á ?‚ãù ?ùüò ?œ• ?«ë ?‚ãõ ?ùüô ?‚Äπ ?≈ò ?‚â≤ ?ùüö ?‚Ä∫ ?≈† ?‚ãö ?ùüõ ?‚â± ?≈§ ?‚Ü¶ ?ùüú ?‚ãô ?«ì ?‚Ñê ?ùüù ?‚äì ?≈Ω ?‚áç ?ùüû ?‚Äö ?«é ?‚Üö ?ùüü ?‚Äò ?ƒç ?‚äà ?ùü† ?‚áî ?ƒè ?‚äâ ?ùü° ?‚àû ?ƒõ ?‚âæ ?ùîπ ?‚àâ ?«ß ?üõá ?‚ÑÇ ?‚à´ ?»ü ?¬Æ ?‚Ñï ?‚Ç≠ ?«ê ?‚Üí ?‚Ñô ?Àõ ?«∞ ?‚àê ?‚Ñö ?‚üµ ?«© ?‚å£ ?‚Ñù ?‚áá ?ƒæ ?‚äë ?‚ä† ?‚Ü¢ ?≈à ?‚äí ?‚Ñ§ ?‚Üö ?«í ?‚ää ?√á ?‚Ü§ ?≈ô ?‚âø ?·∏ê ?‚áö ?≈° ?‚äã ?»® ?‚áç ?≈• ?‚ÅÖ ?ƒ¢ ?‚Äú ?«î ?‚Ññ ?·∏® ?‚â∞ ?≈æ ?‚Ñû ?ƒ∂ ?‚óÅ ?Œ∂ ?‚ÅÜ ?ƒª ?‚Üû ?‚äÆ ?‚áà ?≈Ö ?‚Üî ?‚äØ ?‚áõ ?≈ñ ?‚áî ?‚ä™ ?‚áï ?≈û ?‚Ü≠ ?·πé ?·∂¶ ?≈¢ ?‚äî ?·πè ?·∂´ ?√ß ?‚Ñß ?·πå ?·∂∞ ?·∏ë ?‚à£ ?·π∏ ?·∂∏ ?»© ?¬¨ ?·πç ?·µ† ?ƒ£ ?‚â† ?·ππ ?·µÜ ?·∏© ?‚àå ?»¨ ?‚àç ?ƒ∑ ?Ã∏ ?»≠ ?‚òª ?≈Ü ?‚äñ ?√É ?‚ñ™ ?≈ó ?‚Ñ¶ ?·∫º ?‚äö ?≈ü ?‚âö ?ƒ® ?‚äù ?≈£ ?‚ñ∞ ?√ë ?‚ãû ?‚Üì ?‚ñ± ?√ï ?‚ãü ?‚áì ?‚Öå ?≈® ?‚âº ?√∞ ?œÜ ?·πº ?‚ô¢ ?‚ÜØ ?œà ?·ª∏ ?‚ãú ?‚Äî ?‚àé ?√£ ?‚áè ?‚Äì ?‚ü∂ ?·∫Ω ?‚Üõ ?‚àÉ ?‚áâ ?ƒ© ?¬™ ?‚â• ?‚á∂ ?√± ?„âê ?‚â´ ?‚Ü£ ?√µ ?‚ã® ?‚àà ?‚Üõ ?≈© ?‚ò¢ ?ƒÑ ?‚ä∏ ?·πΩ ?œÜ ?ƒò ?‚Ü¶ ?·ªπ ?‚âΩ ?ƒÆ ?‚áõ ?«æ ?‚ã© ?«™ ?‚áè ?«ø ?‚âà ?≈≤ ?‚Äù ?ƒ´ ?‚Øë ?ƒÖ ?‚ñ∑ ?Œë ?‚Üï ?ƒô ?œÅ ?Œî ?·¥≤ ?ƒØ ?‚Ü† ?Œì ?·¥ª ?«´ ?œª ?Œö ?·µô ?≈≥ ?Ôπ® ?·µî ?‚Üê ?œ∏ ?Œõ ?‚ú¶ ?‚áê ?‚àº ?Œ© ?üöß ?‚â§ ?‚ñ£ ?œ† ?¬∫ ?‚â™ ?‚ñ¢ ?œ¨ ?‚âì ?‚Äò ?‚ú∂ ?Œ£ ?‚Ñó ?‚âû ?‚ú¥ ?Œò ?‚Åí ?‚àì ?‚äÇ ?‚ä© ?‚ñø ?Œº ?‚àë ?·µú ?‚óÉ ?‚â† ?‚äÉ ?·µ° ?‚áê ?‚àã ?œÑ ?·µë ?·∂ù ?ŒΩ ?‚ÅÄ ?·∂¥ ?·µû ?‚äõ ?‚ä§ ?·∂û ? ± ?‚äï ?‚áà ?·∂æ ?Íüπ ?‚äù ?‚Ü• ?·∂≤ ?·∂¨ ?‚äô ?‚ü∞ ?‚Ñ† ?·∂≥ ?‚äò ?‚Üï ?‚Ñ¢ ?·∂π ?‚äú ?‚áï ?ƒµ ?·∂Ω ?≈ì ?‚Üñ ?‚Ñµ ?‚ñ≥ ?‚äö ?‚áñ ?Œ± ?‚ñ¥ ?‚à® ?‚Üó ?‚àê ?‚ãá ?‚äó ?‚áó ?‚âç ?‚âí ?œÄ ?‚Üü ?‚ãØ ?‚Ü© ?¬± ?Àò ?‚Ç° ?‚Ü¢ ?‚Üí ?‚à® ?‚ä£ ?‚Üº ?‚áí ?Àá ?‚ã± ?‚Üê ?‚Äô ?‚Ç© ?Œ¥ ?‚Ü´ ?√ü ?¬• ?‚âê ?‚à° ?‚âú ?‚ä¨ ?‚â° ?‚ã™ ?√æ ?‚ä≠ ?‚Öü ?‚à• ?‚Üí ?‚ä© ?‚å¢ ?‚àñ ?‚äé ?‚ä´ ?Œ≥ ?‚Éù ?‚Üë ?‚à¶ ?‚Ñ∑ ?‚ÑÆ ?‚äç ?‚âÑ ?‚â© ?‚ñπ ?‚áë ?‚âá ?‚ãß ?‚Üø ?ƒÇ ?Àú ?ƒ± ?‚áî ?ƒî ?‚âä ?‚àû ?‚áí ?ƒû ?‚ââ ?Œ∫ ?·∂õ ?ƒ¨ ?‚âã ?œü ?‚Ü∂ ?≈é ?·∏Æ ?Œª ?‚áä ?≈¨ ?«ó ?‚åà ?‚Ü™ ?ƒÉ ?·∏Ø ?„Ää ?‚áá ?ƒï ?«ò ?‚Ä¶ ?‚Üî ?ƒü ?«û ?‚â® ?‚ãã ?ƒ≠ ?»™ ?‚ã¶ ?‚Üí ?‚à™ ?«ï ?‚Çº ?‚Ü¨ ?≈è ?«ü ?¬µ ?√ó ?≈≠ ?»´ ?‚àí ?‚à¶ ?«ç ?«ñ ?‚àá ?‚ã´ ?ƒå ?«õ ?‚Ç¶ ?‚Ü£ ?ƒé ?«ú ?‚âá ?‚áÄ ?ƒö ?«ô ?‚â± ?‚à¢ ?«¶ ?«ö ?‚â∞ ?‚ó¶ ?»û ?√Ñ ?‚âÆ ?‚ä¥ ?«è ?√ã ?‚àâ ?‚Üæ ?«® ?·∏¶ ?‚äÄ ?Íü∏ ?ƒΩ ?√è ?‚äÅ ?·µï ?≈á ?œâ ?·∂§ ?«ë ?√ú ?‚äï ?·µå ?≈ò ?·∫Ñ ?‚Ñ• ? µ ?≈† ?·∫å ?¬£ ?‚ñΩ ?≈§ ?≈∏ ?‚Ä≤ ?‚Ü∫ ?«ì ?‚åâ ?‚Ü∑ ?≈Ω ?√´ ?„Äã ?‚áÉ ?«é ?·∏ß ?‚ÇΩ ?‚ÜΩ ?ƒç ?√Ø ?‚Ç® ?‚áÜ ?ƒè ?œ° ?‚áé ?ƒõ ?·∫ó ?‚ôØ ?‚ÜÆ ?«ß ?œ≠ ?‚ã¨ ?»ü ?·∫Ö ?œÉ ?‚áÑ ?«ê ?·∫ç ?‚âÉ ?‚ãå ?«∞ ?√ø ?‚å£ ?‚áù ?«© ?·π§ ?‚äì ?‚ÄΩ ?ƒæ ?·π• ?‚äî ?‚ô™ ?≈à ?«º ?‚äë ?‚äµ ?«í ?«Ω ?‚äí ?‚ä≤ ?≈ô ?√Å ?‚äà ?‚Üª ?≈° ?ƒÜ ?‚äâ ?‚áÇ ?≈• ?√â ?‚àõ ?‚ã≠ ?«î ?«¥ ?‚àú ?‚áÅ ?≈æ ?√ç ?‚Ç∏ ?‚áâ ?‚Ñò ?·∏∞ ?Œ∏ ?‚Üû ?‚âÄ ?ƒπ ?√ó ?‚ä≥ ?Œæ ?·∏æ ?‚äé ?·∂ü ?‚¶É ?≈É ?ƒ≠ ?‚ñæ ?‚ä¢ ?√ì ?‚ä® ?‚óÇ ?‚ä® ?·πî ?œñ ?‚áã ?‚à§ ?≈î ?‚ä¢ ?‚áå ?‚à• ?≈ö ?‚ãÆ ?‚Ç° ?‚¶Ñ ?√ö ?«ê ?‚Äª ?‚âÉ ?·∫Ç ?«∞ ?‚Ü† ?‚âÖ ?√ù ?‚àß ?‚áî ?√É ?≈π ?ƒ© ?·∂Æ ?·∫º ?√° ?·∏Æ ?Í≠ü ?ƒ® ?ƒá ?«ó ?‚ñ∏ ?√ë ?√© ?·∏Ø ?‚Üî ?√ï ?«µ ?«ò ?‚Ä± ?≈® ?√≠ ?«û ?‚Ü≠ ?·πº ?·∏± ?»™ ?‚ÅÑ ?·ª∏ ?ƒ∫ ?«ï ? ∂ ?√£ ?·∏ø ?«ü ? µ ?·∫Ω ?≈Ñ ?»´ ?- ?·∂® ?ƒ© ?√≥ ?«ñ ?Í≠û ?√µ ?·πï ?«õ ?·∂™ ?≈© ?≈ï ?«ú ?·∂µ ?·πΩ ?≈õ ?«ô ?·∂ß ?·ªπ ?√∫ ?«ö ?·∂° ?‚âà ?·∫É ?·π§ ?·∂© ?¬® ?√Ω ?·π• ?·∂Ø ?«æ ?≈∫ ?«º ?À§ ?«ø ?«† ?«Ω ?·∂º ?¬¥ ?»∞ ?«† ?Í≠ù ?‚ì™ ?«° ?»∞ ?·∂≠ ?‚ü∂ ?»± ?«° ?‚Ä¥ ?‚Åó ?ÃÅ ?‚ÅÖ ?‚ÅΩ ?‚Çç ?‚å© ?‚é¥ ?‚üÖ ?„Äå ?„Äé ?Ô∏µ ?Ô∏∑ ?Ô∏π ?Ô∏ª ?Ô∏Ω ?Ô∏ø ?ÔπÅ ?ÔπÉ ?Ôπô ?Ôπõ ?Ôπù ?Ôºà ?Ôºª ?ÔΩõ ?ÔΩ¢ ?‚ÅÜ ?‚Åæ ?‚Çé ?‚éµ ?‚üÜ ?„Äç ?„Äè ?Ô∏∂ ?Ô∏∏ ?Ô∏∫ ?Ô∏º ?Ô∏æ ?ÔπÄ ?ÔπÇ ?ÔπÑ ?Ôπö ?Ôπú ?Ôπû ?Ôºâ ?ÔºΩ ?ÔΩù ?ÔΩ£ ?‚àô ?Ãá ?‚à∂ ?‚ÄÖ ?‚óÄ ?‚óÅ ?‚ñ∂ ?‚ñ∑ ?‚ñ≤ ?‚ñ≥ ?‚ñº ?‚ñΩ ?‚ó¨ ?‚ó≠ ?‚óÆ ?‚Äµ ?‚Ä∂ ?‚Ä∑ ?ÃÄ ?‚ô≠ ?Ã± ?‚åú ?‚åù ?‚åû ?‚åü ?‚åà ?‚åâ ?‚åä ?‚åã ?Ãß ?‚Üì ?‚áì ?‚ü± ?‚áä ?‚áµ ?‚Üß ?‚á© ?‚Ü° ?‚áÉ ?‚áÇ ?‚á£ ?‚áü ?‚Üµ ?‚Ü≤ ?‚Ü≥ ?‚û• ?‚ÜØ ?Ã£ ?‚à© ?ƒ± ?‚Üê ?‚áê ?‚áö ?‚áá ?‚áÜ ?‚Ü§ ?‚á¶ ?‚Üû ?‚Üº ?‚ÜΩ ?‚á† ?‚á∫ ?‚Üú ?‚áΩ ?‚üµ ?‚ü∏ ?‚Üö ?‚áç ?‚á∑ ?‚Üπ ?‚Ü¢ ?‚Ü© ?‚Ü´ ?‚áã ?‚áú ?‚á§ ?‚üª ?‚üΩ ?‚§Ü ?‚Ü∂ ?‚Ü∫ ?‚ü≤ ?≈Ç ?‚àò ?√∏ ?‚Üí ?‚áí ?‚áõ ?‚áâ ?‚áÑ ?‚Ü¶ ?‚á® ?‚Ü† ?‚áÄ ?‚áÅ ?‚á¢ ?‚áª ?‚Üù ?‚áæ ?‚ü∂ ?‚üπ ?‚Üõ ?‚áè ?‚á∏ ?‚á∂ ?‚Ü¥ ?‚Ü£ ?‚Ü™ ?‚Ü¨ ?‚áå ?‚áù ?‚á• ?‚üº ?‚üæ ?‚§á ?‚Ü∑ ?‚Üª ?‚ü≥ ?‚á∞ ?‚á¥ ?‚ü¥ ?‚üø ?‚ûµ ?‚û∏ ?‚ûô ?‚ûî ?‚ûõ ?‚ûú ?‚ûù ?‚ûû ?‚ûü ?‚û† ?‚û° ?‚û¢ ?‚û£ ?‚û§ ?‚ûß ?‚û® ?‚û© ?‚û™ ?‚û´ ?‚û¨ ?‚û≠ ?‚ûÆ ?‚ûØ ?‚û± ?‚û≤ ?‚û≥ ?‚û∫ ?‚ûª ?‚ûº ?‚ûΩ ?‚ûæ ?‚ä∏ ?‚óÇ ?‚óÉ ?‚óÑ ?‚óÖ ?‚ñ∏ ?‚ñπ ?‚ñ∫ ?‚ñª ?‚ñ¥ ?‚ñµ ?‚ñæ ?‚ñø ?‚ó¢ ?‚óø ?‚ó£ ?‚ó∫ ?‚ó§ ?‚ó∏ ?‚ó• ?‚óπ ?‚Üë ?‚áë ?‚ü∞ ?‚áà ?‚áÖ ?‚Ü• ?‚áß ?‚Üü ?‚Üø ?‚Üæ ?‚á° ?‚áû ?‚Ü∞ ?‚Ü± ?‚û¶ ?‚á™ ?‚á´ ?‚á¨ ?‚á≠ ?‚áÆ ?‚áØ ?ÃÜ ?‚àº ?ÃÉ ?‚úÇ ?‚úÑ ?‚âó ?≈ç ?‚ÄΩ ?‚Åà ?‚óÄ ?‚ñ∂ ?‚ñ≤ ?‚ñº ?‚óÅ ?‚ñ∑ ?‚ñ≥ ?‚ñΩ ?Ãá ?Ãà ?‚Éõ ?‚Éú ?·¥¨ ?√Ç ?·¥± ?√ä ?·¥≥ ?ƒú ?·¥¥ ?ƒ§ ?·¥µ ?√é ?·¥∂ ?ƒ¥ ?·¥º ?√î ?·µÅ ?√õ ?·µÇ ?≈¥ ?ÃÇ ?Ãë ?ÕÜ ?·µÉ ?√¢ ?·∂ú ?ƒâ ?·µâ ?√™ ?·µç ?ƒù ? ∞ ?ƒ• ?‚Å± ?‚Å± ?√Æ ? ≤ ?ƒµ ?‚Éñ ?‚Éê ?‚Éî ?À° ?À° ?·µí ?√¥ ?‚Éó ?‚Éë ?‚Éï ? ≥ ? ≥ ?À¢ ?≈ù ?·µò ?√ª ?Ãå ?ÃÜ ?·µõ ?·µõ ? ∑ ?≈µ ? ∏ ?≈∑ ?·∂ª ?·∫ë ?ÃÉ ?Õå ?Ã£ ?Ã§ ?Ã≠ ?ÃØ ?Ã™ ?Ã¨ ?ÃÆ ?Ã∫ ?·µ• ?·µ• ?‚Ä¢ ?‚ó¶ ?‚Ä£ ?‚Åå ?‚Åç ?‚óè ?‚óã ?‚óé ?‚óå ?‚óØ ?‚óç ?‚óê ?‚óë ?‚óí ?‚óì ?‚óî ?‚óï ?‚óñ ?‚óó ?‚ó† ?‚ó° ?‚ó¥ ?‚óµ ?‚ó∂ ?‚ó∑ ?‚öÜ ?‚öá ?‚öà ?‚öâ ?‚åû ?‚åü ?‚åä ?‚åã ?ƒº ?‚åú ?‚åù ?‚åà ?‚åâ ?‚óÜ ?‚óá ?‚óà ?‚Üô ?‚áô ?‚Üò ?‚áò ?‚á≤ ?‚û¥ ?‚û∑ ?‚ûò ?= ?‚àº ?‚àΩ ?‚âà ?‚âã ?‚àª ?‚àæ ?‚àø ?‚âÄ ?‚âÉ ?‚ãç ?‚âÇ ?‚âÖ ?‚âå ?‚âä ?‚â° ?‚â£ ?‚âê ?‚âë ?‚âí ?‚âì ?‚âî ?‚âï ?‚âñ ?‚âó ?‚âò ?‚âô ?‚âö ?‚âõ ?‚âú ?‚âù ?‚âû ?‚âü ?‚âç ?‚âé ?‚âè ?‚â¨ ?‚ãï ?‚Üî ?‚áî ?‚áº ?‚Ü≠ ?‚áø ?‚ü∑ ?‚ü∫ ?‚ÜÆ ?‚áé ?‚áπ ?‚Üú ?‚áú ?‚ñ∞ ?‚ñ± ?‚ñ¨ ?‚ñ≠ ?‚ñÆ ?‚ñØ ?‚Üù ?‚áù ?‚üø ?‚ñ† ?‚ñ° ?‚óº ?‚óª ?‚óæ ?‚óΩ ?‚ñ£ ?‚ñ¢ ?‚ñ§ ?‚ñ• ?‚ñ¶ ?‚ñß ?‚ñ® ?‚ñ© ?‚óß ?‚ó® ?‚ó© ?‚ó™ ?‚ó´ ?‚ó∞ ?‚ó± ?‚ó≤ ?‚ó≥ ?‚ãÜ ?‚ú¶ ?‚úß ?‚ú∂ ?‚ú¥ ?‚úπ ?‚òÖ ?‚òÜ ?‚ú™ ?‚ú´ ?‚úØ ?‚ú∞ ?‚úµ ?‚ú∑ ?‚ú∏ ?‚óÇ ?‚ñ∏ ?‚ñ¥ ?‚ñæ ?‚óÑ ?‚ñ∫ ?‚ó¢ ?‚ó£ ?‚ó§ ?‚ó• ?‚óÉ ?‚ñπ ?‚ñµ ?‚ñø ?‚óÖ ?‚ñª ?‚óø ?‚ó∫ ?‚ó∏ ?‚óπ ?‚Üï ?‚áï ?‚Ü® ?‚á≥ ?‚Üñ ?‚áñ ?‚á± ?‚Ü∏ ?‚Üó ?‚áó ?‚û∂ ?‚ûπ ?‚ûö ?‚âÅ ?√± ?‚ë¥ ?‚ë† ?‚íà ?‚ù∂ ?‚ûÄ ?‚ûä ?‚ëµ ?‚ë° ?‚íâ ?‚ù∑ ?‚ûÅ ?‚ûã ?‚ë∂ ?‚ë¢ ?‚íä ?‚ù∏ ?‚ûÇ ?‚ûå ?‚ë∑ ?‚ë£ ?‚íã ?‚ùπ ?‚ûÉ ?‚ûç ?‚ë∏ ?‚ë§ ?‚íå ?‚ù∫ ?‚ûÑ ?‚ûé ?‚ëπ ?‚ë• ?‚íç ?‚ùª ?‚ûÖ ?‚ûè ?‚ë∫ ?‚ë¶ ?‚íé ?‚ùº ?‚ûÜ ?‚ûê ?‚ëª ?‚ëß ?‚íè ?‚ùΩ ?‚ûá ?‚ûë ?‚ëº ?‚ë® ?‚íê ?‚ùæ ?‚ûà ?‚ûí ?‚íú ?‚í∂ ?‚ìê ?‚íù ?‚í∑ ?‚ìë ?‚íû ?‚í∏ ?‚ìí ?‚íü ?‚íπ ?‚ìì ?‚í† ?‚í∫ ?‚ìî ?‚í° ?‚íª ?‚ìï ?‚í¢ ?‚íº ?‚ìñ ?‚í£ ?‚íΩ ?‚ìó ?‚í§ ?‚íæ ?‚ìò ?‚í• ?‚íø ?‚ìô ?‚í¶ ?‚ìÄ ?‚ìö ?‚íß ?‚ìÅ ?‚ìõ ?‚í® ?‚ìÇ ?‚ìú ?‚í© ?‚ìÉ ?‚ìù ?‚í™ ?‚ìÑ ?‚ìû ?‚í´ ?‚ìÖ ?‚ìü ?‚í¨ ?‚ìÜ ?‚ì† ?‚í≠ ?‚ìá ?‚ì° ?‚íÆ ?‚ìà ?‚ì¢ ?‚íØ ?‚ìâ ?‚ì£ ?‚í∞ ?‚ìä ?‚ì§ ?‚í± ?‚ìã ?‚ì• ?‚í≤ ?‚ìå ?‚ì¶ ?‚í≥ ?‚ìç ?‚ìß ?‚í¥ ?‚ìé ?‚ì® ?‚íµ ?‚ìè ?‚ì© ?‚îÄ ?‚îÇ ?‚îå ?‚îê ?‚îî ?‚îò ?‚îú ?‚î§ ?‚î¨ ?‚îº ?‚î¥ ?‚ï¥ ?‚ïµ ?‚ï∂ ?‚ï∑ ?‚ï≠ ?‚ïÆ ?‚ïØ ?‚ï∞ ?‚ï± ?‚ï≤ ?‚ï≥ ?‚ïå ?‚ïé ?‚îÑ ?‚îÜ ?‚îà ?‚îä ?‚ïç ?‚ïè ?‚îÖ ?‚îá ?‚îâ ?‚îã ?‚ïê ?‚ïë ?‚ïî ?‚ïó ?‚ïö ?‚ïù ?‚ï† ?‚ï£ ?‚ï¶ ?‚ï¨ ?‚ï© ?‚ïí ?‚ïï ?‚ïò ?‚ïõ ?‚ïû ?‚ï° ?‚ï§ ?‚ï™ ?‚ïß ?‚ïì ?‚ïñ ?‚ïô ?‚ïú ?‚ïü ?‚ï¢ ?‚ï• ?‚ï´ ?‚ï® ?‚îÅ ?‚îÉ ?‚îè ?‚îì ?‚îó ?‚îõ ?‚î£ ?‚î´ ?‚î≥ ?‚ïã ?‚îª ?‚ï∏ ?‚ïπ ?‚ï∫ ?‚ïª ?‚îç ?‚îØ ?‚îë ?‚îï ?‚î∑ ?‚îô ?‚îù ?‚îø ?‚î• ?‚îé ?‚î∞ ?‚îí ?‚îñ ?‚î∏ ?‚îö ?‚î† ?‚ïÇ ?‚î® ?‚îû ?‚ïÄ ?‚î¶ ?‚îü ?‚ïÅ ?‚îß ?‚î¢ ?‚ïà ?‚î™ ?‚î° ?‚ïá ?‚î© ?‚îÆ ?‚î≠ ?‚î∂ ?‚îµ ?‚îæ ?‚îΩ ?‚î≤ ?‚î± ?‚î∫ ?‚îπ ?‚ïä ?‚ïâ ?‚ïÜ ?‚ïÖ ?‚ïÑ ?‚ïÉ ?‚ïø ?‚ïΩ ?‚ïº ?‚ïæ ?‚ãØ ?‚ãÆ ?‚ã∞ ?‚ã± ?ÃÖ ?Ãø ?Ã≤ ?Ã≥ ?‚å∂ ?‚å∑ ?‚å∏ ?‚åπ ?‚å∫ ?‚åª ?‚åº ?‚åΩ ?‚åæ ?‚åø ?‚çÄ ?‚çÅ ?‚çÇ ?‚çÉ ?‚çÑ ?‚çÖ ?‚çÜ ?‚çá ?‚çà ?‚çâ ?‚çä ?‚çã ?‚çå ?‚çç ?‚çé ?‚çè ?‚çê ?‚çë ?‚çí ?‚çì ?‚çî ?‚çï ?‚çñ ?‚çó ?‚çò ?‚çô ?‚çö ?‚çõ ?‚çú ?‚çù ?‚çû ?‚çü ?‚ç† ?‚ç° ?‚ç¢ ?‚ç£ ?‚ç§ ?‚ç• ?‚ç¶ ?‚çß ?‚ç® ?‚ç© ?‚ç™ ?‚ç´ ?‚ç¨ ?‚ç≠ ?‚çÆ ?‚çØ ?‚ç∞ ?‚ç± ?‚ç≤ ?‚ç≥ ?‚ç¥ ?‚çµ ?‚ç∂ ?‚ç∑ ?‚ç∏ ?‚çπ ?‚ç∫ ?‚éï ?‚öÄ ?‚öÅ ?‚öÇ ?‚öÉ ?‚öÑ ?‚öÖ ?‚â† ?‚âÅ ?‚ââ ?‚âÑ ?‚âá ?‚âÜ ?‚â¢ ?‚â≠ ?> ?‚â´ ?‚ãô ?‚â• ?‚âß ?‚â≥ ?‚â∑ ?‚âª ?‚âΩ ?‚âø ?‚äÉ ?‚äá ?‚ãë ?‚äê ?‚äí ?‚ä± ?‚ä≥ ?‚äµ ?‚ãó ?‚ãõ ?‚ãù ?‚ãü ?< ?‚â™ ?‚ãò ?‚â§ ?‚â¶ ?‚â≤ ?‚â∂ ?‚â∫ ?‚âº ?‚âæ ?‚äÇ ?‚äÜ ?‚ãê ?‚äè ?‚äë ?‚ä∞ ?‚ä≤ ?‚ä¥ ?‚ãñ ?‚ãö ?‚ãú ?‚ãû ?‚ñ¨ ?‚ñÆ ?‚ñ≠ ?‚ñØ ?‚ñ† ?‚óº ?‚óæ ?‚ñ° ?‚óª ?‚óΩ ?‚ú¶ ?‚úß ?‚ëΩ ?‚ë© ?‚íë ?‚ùø ?‚ûâ ?‚ûì ?‚ëæ ?‚ë™ ?‚íí ?‚ëø ?‚ë´ ?‚íì ?‚íÄ ?‚ë¨ ?‚íî ?‚íÅ ?‚ë≠ ?‚íï ?‚íÇ ?‚ëÆ ?‚íñ ?‚íÉ ?‚ëØ ?‚íó ?‚íÑ ?‚ë∞ ?‚íò ?‚íÖ ?‚ë± ?‚íô ?‚íÜ ?‚ë≤ ?‚íö ?‚íá ?‚ë≥ ?‚íõ ?¬º ?¬Ω ?¬æ ?‚Öì ?‚Öî ?‚Öï ?‚Öñ ?‚Öó ?‚Öò ?‚Öô ?‚Öö ?‚Öõ ?‚Öú ?‚Öù ?‚Öû ?‚Öü ?‚âØ ?‚â± ?‚â© ?‚âµ ?‚ãß ?‚âπ ?‚äÅ ?‚ã© ?‚äÖ ?‚äâ ?‚äã ?‚ã£ ?‚ã• ?‚ã´ ?‚ã≠ ?‚ã° ?‚ãà ?‚ãâ ?‚ãä ?‚ãã ?‚ãå ?‚®ù ?‚üï ?‚üñ ?‚üó ?‚âÆ ?‚â∞ ?‚â® ?‚â¥ ?‚ã¶ ?‚â∏ ?‚äÄ ?‚ã® ?‚äÑ ?‚äà ?‚ää ?‚ã¢ ?‚ã§ ?‚ã™ ?‚ã¨ ?‚ã† ?‚ô© ?‚ô™ ?‚ô´ ?‚ô¨ ?‚àü ?‚à° ?‚à¢ ?‚äæ ?‚äø ?‚à† ?‚à™ ?‚ãÉ ?‚à® ?‚ãÅ ?‚ãé ?‚®à ?‚äî ?‚®Ü ?‚ãì ?‚àê ?‚®ø ?‚äΩ ?‚äª ?‚äç ?‚®É ?‚äé ?‚®Ñ ?‚äå ?‚àë ?‚ÖÄ ?‚àà ?‚àâ ?‚àä ?‚àã ?‚àå ?‚àç ?‚ã≤ ?‚ã≥ ?‚ã¥ ?‚ãµ ?‚ã∂ ?‚ã∑ ?‚ã∏ ?‚ãπ ?‚ã∫ ?‚ãª ?‚ãº ?‚ãΩ ?‚ãæ ?‚ãø ?‚ä¢ ?‚ä£ ?‚ä§ ?‚ä• ?‚ä¶ ?‚äß ?‚ä® ?‚ä© ?‚ä™ ?‚ä´ ?‚ä¨ ?‚ä≠ ?‚äÆ ?‚äØ ?‚Åé ?‚Åë ?‚ÅÇ ?‚ú¢ ?‚ú£ ?‚ú§ ?‚ú• ?‚ú± ?‚ú≤ ?‚ú≥ ?‚ú∫ ?‚úª ?‚úº ?‚úΩ ?‚ùÉ ?‚ùâ ?‚ùä ?‚ùã ?‚à´ ?‚à¨ ?‚à≠ ?‚àÆ ?‚àØ ?‚à∞ ?‚à± ?‚à≤ ?‚à≥ ?‚à© ?‚ãÇ ?‚àß ?‚ãÄ ?‚ãè ?‚®á ?‚äì ?‚®Ö ?‚ãí ?‚àè ?‚äº ?‚®â ?‚àò ?| ?~ ?^ ?@ ?+ ?* ?: ?. ?, ?! ?$ ?% ?& ?/ ?= ?< ?> ?\; ?- ?, ??))
;; cl-map might not be available

;; (defvar-local operator-known-operators-strg (cl-map 'string 'identity operator-known-operators)
;;   "Used to skip over operators at point.")

(defun operator-setup-strg (opes)
  (let (erg)
    (dolist (ele opes)
      (setq erg (concat (format "%s" (char-to-string ele)) erg)))
    erg))

(defvar-local operator-known-operators-strg (operator-setup-strg operator-known-operators)
  "Used to skip over operators at point.")

;; (setq operator-known-operators-strg (operator-setup-strg operator-known-operators))

(defun following--operator-up ()
  (save-excursion
    (and (< 0 (abs (skip-chars-backward operator-known-operators-strg)))
	 (member (char-before) operator-known-operators)
	 (char-before))))

(defun op-in-string-or-comment-p (&optional pps)
  "Returns beginning position if inside a string or comment,
t at start,nil otherwise.

Optional arg PPS output of (parse-partial-sexp (point-min) (point))"
  (interactive)
  (let* ((erg (or (and pps (nth 8 pps))
		  (nth 8 (parse-partial-sexp (point-min) (point)))
		  (ignore-errors (eq 7 (car-safe (syntax-after (point)))))
		  ;; (ignore-errors (eq 7 (car-safe (syntax-after (1- (point))))))
		  (and comment-start
		       (or (looking-at comment-start)
			   (looking-at comment-start-skip)
			   (looking-back comment-start (line-beginning-position))
			   (looking-back comment-start-skip (line-beginning-position)))))))
    (when (interactive-p) (message "%s" erg))
    erg))

(defun py-in-dict-p (pps)
  "Return t if inside a dictionary."
  (save-excursion
    (and (nth 1 pps)
	 (goto-char (nth 1 pps))
	 (char-equal ?{ (char-after)))))

(defun operator--continue-p ()
  "Uses-cases:
"
  (when (member (char-before (- (point) 1)) operator-known-operators)
    'operator-continue))

(defun operator--in-list-continue-p (list_start_c following_start_c)
  "Use-cases:
Haskell: (>=>) :: Monad"
  (and list_start_c following_start_c (char-equal list_start_c ?\()
       (member following_start_c operator-known-operators)))

(defun operator--closing-colon (char)
  (and (char-equal char ?:)
       ;; (char-equal (char-before (- (point) 1)) ?\))
       (not (char-equal (char-before (- (point) 1)) 32))))

(defun operator--python-notfirst (char start pps list-start-char &optional notfirst notsecond nojoin)
  (let* ((in-list-p (nth 1 pps))
	 (index-p (when in-list-p (save-excursion (goto-char (nth 1 pps)) (and (eq (char-after) ?\[) (not (eq (char-before) 32)))))))
    (cond (notfirst
	   notfirst)
	  ;; echo(**kargs)
	  ((and (char-equal ?* char) in-list-p)
	   'python-*-in-list-p)
	  ;; print('%(language)s has %(number)03d quote types.' %
	  ;;     {'language': "Python", "number": 2})
	  ;; don'python-t space ‚Äò%‚Äô
	  ((and (nth 1 pps) (nth 3 pps)
		'python-string-in-list))
	  ;; with open('/path/to/some/file') as file_1,
	  ((member char (list ?\; ?, 40 41))
	   'python-list-op)
	  ((member char (list ?.))
	   'python-dot)
	  ;; def f(x, y):
	  ;; if len(sys.argv) == 1:
	  ((operator--closing-colon char)
	   'python-operator--closing-colon)
	  (index-p
	   'python-index-p)

	  ((py-in-dict-p pps)
	   'python-py-in-dict-p)
	  ((or (looking-back "lambda +\\_<[^ ]+\\_>:" (line-beginning-position))
	       ;; for i in c :
	       (looking-back "\\_<for\\_>+ +\\_<[^ ]+\\_> +in +\\_<[^ ]+:" (line-beginning-position))
	       (looking-back "\\_<as\\_>+ +\\_<[^ ]+:" (line-beginning-position))
	       (looking-back "return +[^ ]+" (line-beginning-position)))
	   'python-after-symbol))))

(defun operator--python-notsecond (char start pps list-start-char &optional notfirst notsecond nojoin)
  (let* ((in-list-p (nth 1 pps))
	 (index-p (when in-list-p (save-excursion (goto-char (nth 1 pps)) (and (eq (char-after) ?\[) (not (eq (char-before) 32)))))))
    (cond (notsecond
	   notsecond)
	  ;; echo(**kargs)
	  ((and (char-equal ?* char) in-list-p)
	   'python-*-in-list-p)
	  ((and (char-equal ?- char) in-list-p)
	   'python---in-list-p)
	  ;; print('%(language)s has %(number)03d quote types.' %
	  ;;     {'language': "Python", "number": 2})
	  ;; don't space ‚Äò%‚Äô
	  ((and (nth 1 pps) (nth 3 pps))
	   'python-string-in-list)
	  ;; (char-equal char ?~)
	  ;; with open('/path/to/some/file') as file_1,
	  ((member char (list ?\; ?\( ?\) ?~ ?\[ ?\]))
	   'python-list-op)
	  ((member char (list ?.))
	   'python-dot)
	  ((member char (list ?:))
	   'python-colon)
	  ((or (looking-back "[ \t]*\\_<\\(async def\\|class\\|def\\)\\_>[ \n\t]+\\([[:alnum:]_]+ *(.*)-\\)" (line-beginning-position))
	       (and
		;; return self.first_name, self.last_name
		(not (char-equal char ?,))
		(looking-back "return +[^ ]+.*" (line-beginning-position))))
	   'python-after-symbol))))

(defun operator--do-python-mode (char start pps list-start-char &optional notfirst notsecond nojoin)
  "Python"
  (setq operator-known-operators (remove ?. operator-known-operators))
  (let* ((notfirst (operator--python-notfirst char start pps list-start-char notfirst notsecond nojoin))
	 (notsecond (operator--python-notsecond char start pps list-start-char notfirst notsecond nojoin)))
    (operator--final char start notfirst notsecond nojoin)))

(defun operator--haskell-notfirst (char pps list-start-char notfirst)
  (cond (notfirst
	 'haskell-notfirst)
	((and (eq 'haskell-interactive-mode major-mode)
	      (save-excursion (backward-char 1)
			      (looking-back haskell-interactive-prompt (line-beginning-position))))
	 'haskell-haskell-interactive-prompt)
	(list-start-char
	 ;; data Contact =  Contact { name :: "asdf" }
	 ;; (unless (eq list-start-char ?{)
	 (cond ((char-equal ?, char)
		'haskell-list-separator)
	       ((and (char-equal ?\[ list-start-char)
		     (char-equal ?. char))
		'haskell-construct-for-export)
	       ((and (char-equal ?\[ list-start-char)
		     (char-equal ?, char))
		'haskell-operator--in-list-continue)
	       ((char-equal ?* char)
		'haskell-char-equal-\*-in-list-p)
	       ((member char (list ?\( ?\) ?\]))
		'haskell-listing)
	       ((nth 3 pps)
		'haskell-and-nth-1-pps-nth-3-pps)
	       ;; ((py-in-dict-p pps))
	       ((and (nth 1 pps) (not (member char (list ?: ?, ?\[ ?\] ?\)))))
		'haskell-in-list-p)))
	;; ((member char (list ?\; ?,)))
	((or (member (char-before (1- (point))) operator-known-operators)
	     (and (eq (char-before (1- (point)))?\s) (member (char-before (- (point) 2)) operator-known-operators)))
	 'haskell-join-known-operators)
	((looking-back "^-" (line-beginning-position))
	 'haskell-comment-start)
	((looking-back "lambda +\\_<[^ ]+\\_>:" (line-beginning-position)))
	((looking-back "return +[^ ]+" (line-beginning-position)))
	((looking-back "import +[^ ]+" (line-beginning-position)))
	((looking-back "forall +[^ ]+.*" (line-beginning-position)))))

(defun operator--haskell-notsecond (char pps list-start-char notsecond)
  (cond (notsecond)
	((or (char-equal ?\[ char) (char-equal ?\( char))
	 'haskell-list-opener)
	((and (eq 'haskell-interactive-mode major-mode)
	      (save-excursion (backward-char)
			      (looking-back (concat haskell-interactive-prompt " *:[a-z]+ *") (line-beginning-position))))
	 'haskell-haskell-interactive-prompt)
	(list-start-char
	 ;; data Contact =  Contact { name :: "asdf" }
	 (cond ((char-equal ?, char)
		'haskell-list-separator)
	       ((and (char-equal ?\[ list-start-char)
		     (char-equal ?, char))
		'haskell-construct-for-export)
	       ((and (nth 1 pps) (not (member char (list ?: ?,))))
		'haskell-in-list-p)))
	((nth 3 pps)
	 'haskell-in-string)
	((member char (list ?\( 41 93))
	 'haskell-listing)
	;; index-p
	((and
	  ;; "even <$> (2,2)"
	  (not (char-equal char ?,))
	  (looking-back "^return +[^ ]+.*" (line-beginning-position))))
	((looking-back "^-" (line-beginning-position))
	 'haskell-comment-start)
	((looking-back "import +[^ ]+." (line-beginning-position)))))

(defun operator--do-haskell-mode (char orig pps list-start-char &optional notfirst notsecond)
  "Haskell"
  (let* ((notfirst (operator--haskell-notfirst char pps list-start-char notfirst))
	 (notsecond (operator--haskell-notsecond char pps list-start-char notsecond))
	 (nojoin
	  (cond ((member char (list ?, ?\[ ?\] ?\))))
		((save-excursion (backward-char) (looking-back ") +" (line-beginning-position) ))))))
    (operator--final char orig notfirst notsecond nojoin)))

(defun operator--org-notfirst (char pps list-start-char notfirst)
  (cond (notfirst 'org-notfirst)
	((char-equal ?, char)
	 'org-list-separator)
	((looking-back "[[:alpha:]√§√∂√º√ü.]")
	 'org-in-word)
	((char-equal ?* char)
	 'org-char-equal-\*-in-list-p)
	((member char (list ?\( ?\) ?\] 47))
	 'org-listing)
	((nth 3 pps)
	 'org-and-nth-1-pps-nth-3-pps)
	;; ((py-in-dict-p pps))
	((and (nth 1 pps) (not (member char (list ?: ?, ?\[ ?\] ?\)))))
	 'org-in-list-p)
	;; ((member char (list ?\; ?,)))
	((or (member (char-before (1- (point))) operator-known-operators)
	     (and (eq (char-before (1- (point)))?\s) (member (char-before (- (point) 2)) operator-known-operators)))
	 'org-join-known-operators)
	((looking-back "^<s?" (line-beginning-position))
	 'org-src-block)))

(defun operator--org-notsecond (char pps list-start-char notsecond)
  (cond (notsecond
	 'org-notsecond)
	((or (char-equal ?\[ char) (char-equal ?\( char))
	 'org-list-opener)
	((looking-back "[[:alpha:]√§√∂√º√ü.]")
	 'org-in-word)
	((nth 3 pps)
	 'org-in-string)
	((member char (list ?\( 41 93 47))
	 'org-listing)
	;; index-p
	((and
	  ;; "even <$> (2,2)"
	  (not (char-equal char ?,))
	  (looking-back "^return +[^ ]+.*" (line-beginning-position))))
	((looking-back "^<s?" (line-beginning-position))
	 'org-src-block)))

(defun operator--do-org-mode (char orig pps list-start-char &optional notfirst notsecond)
  "Haskell"
  (let* ((notfirst (operator--org-notfirst char pps list-start-char notfirst))
	 (notsecond (operator--org-notsecond char pps list-start-char notsecond))
	 (nojoin
	  (cond ((member char (list ?, ?\[ ?\] ?\))))
		((save-excursion (backward-char) (looking-back ") +" (line-beginning-position) ))))))
    (operator--final char orig notfirst notsecond nojoin)))


(defun operator--text-notfirst (char start pps list-start-char notfirst)
  (cond (notfirst
	 'text-notfirst)
	((member char (list ?\; ?\( ?, ?. ?: ?\? ?! ?@ ?- 47))
	 'text-punct-class)
	((or (member (char-before (1- (point))) operator-known-operators)
	     (and (eq (char-before (1- (point)))?\s) (member (char-before (- (point) 2)) operator-known-operators)))
	 'text-join-known-operators)
	((member char (list ?*))
	 'text-org-special)
	((looking-back "[[:alpha:]√§√∂√º√ü.]")
	 'text-in-word)))

(defun operator--text-notsecond (char start pps list-start-char notsecond)
  (cond (notsecond)
	((looking-back "[[:alpha:]][-/√∂√§√º√ü√Ñ√ñ√ú]")
	 'text-in-word)
	((member char (list ?@))
	 'text-et)
	;; ((member char (list ?.))
	;;  'text-dot)
	((member char (list ?\[ ?{ ?\( ?\" ?'))
	 'text-open-paren)
	((nth 3 pps)
	 'text-in-string)
	))

(defun operator--do-text-mode (char orig pps list-start-char &optional notfirst notsecond)
  "Haskell"
  (let* ((notfirst
	  (operator--text-notfirst char orig pps list-start-char notfirst))
	 (notsecond
	  (operator--text-notsecond char orig pps list-start-char  notsecond))
	 (nojoin
	  (cond ((member char (list ?, ?\[ ?\] ?\))))
		((save-excursion (backward-char) (looking-back ") +" (line-beginning-position)))))))
    (operator--final char orig notfirst notsecond nojoin)))

(defun operator--join-operators-maybe (char)
  ;; (skip-chars-backward operator-known-operators-strg)
  (and (or (eq (char-before (- (point) 1)) 32)
	   ;; print("Fehler: Richig war " ++
	   (eq (char-before) char)
	   )
       (or (member (char-before (- (point) 2)) operator-known-operators)
	   (member (char-before (- (point) 1)) operator-known-operators))
       (not (ignore-errors (eq (char-syntax (char-before (- (point) 2))) 41)))
       (save-excursion (backward-char)
		       (and (eq (char-before) 32)(delete-char -1))
		       t)))

(defun operator--final (char orig &optional notfirst notsecond nojoin)
  ;; (when (member char operator-known-operators)

  (cond (notfirst
	 (operator--join-operators-maybe char))
	((not notfirst)
	 (or (unless nojoin (operator--join-operators-maybe char))
	     (save-excursion (goto-char (1- orig))
			     (unless (eq (char-before) ?\s)
			       (just-one-space))))))
  (unless notsecond
    (if (eq (char-after) ?\s)
	(forward-char 1)
      (just-one-space))))

(defun operator--do-intern (char orig)
  (let* ((pps (parse-partial-sexp (point-min) (point)))
	 (list-start-char
	  (and (nth 1 pps) (save-excursion
			     (goto-char (nth 1 pps)) (char-after))))
	 (notfirst
	  (cond ((and (member char (list ?@ ?> ?.)) (looking-back (concat "<[[:alnum:]_@.]+" (char-to-string char)) (line-beginning-position)))
		 'email-adress)
		;; fails in haskell -
		;; data Contact =  Contact { name :: String
                ;;                         ,"
		;; (and (nth 1 pps) (char-equal char ?,))
		((op-in-string-or-comment-p pps)
		 'in-string-or-comment-p)))
	 (notsecond
	  (cond
	   ((and (member char (list ?@ ?> ?.)) (looking-back (concat "<[[:alnum:]_@.]+" (char-to-string char)) (line-beginning-position)))
	    'email-adress)
	   ((op-in-string-or-comment-p pps)
	    'in-string-or-comment-p))))
    (pcase major-mode
      (`python-mode
       (operator--do-python-mode char orig pps list-start-char notfirst notsecond))
      (`py-python-shell-mode
       (operator--do-python-mode char orig pps list-start-char notfirst notsecond))
      (`py-ipython-shell-mode
       (operator--do-python-mode char orig pps list-start-char notfirst notsecond))
      ;; (`emacs-lisp-mode
      ;;  (operator--do-emacs-lisp-mode char orig pps list-start-char notfirst notsecond))
      (`org-mode
       (operator--do-org-mode char orig pps list-start-char notfirst notsecond))
      (`haskell-mode
       (operator--do-haskell-mode char orig pps list-start-char notfirst notsecond))
      (`haskell-interactive-mode
       (operator--do-haskell-mode char orig pps list-start-char notfirst notsecond))
      (`inferior-haskell-mode
       (operator--do-haskell-mode char orig pps list-start-char notfirst notsecond))
      (`text-mode
       (operator--do-text-mode char orig pps list-start-char notfirst notsecond))
      ((pred derived-mode-p)
       (operator--do-text-mode char orig pps list-start-char notfirst notsecond))
      (_ (operator--final char orig notfirst notsecond)))))

(defun operator-do ()
  "Act according to operator before point, if any."
  (interactive "*")
  (when (member (char-before) operator-known-operators)
    (operator--do-intern (char-before) (copy-marker (point)))))

(define-minor-mode operator-mode
  "Toggle automatic insertion of spaces around operators if appropriate.

With a prefix argument ARG, enable Electric Spacing mode if ARG is
positive, and disable it otherwise. If called from Lisp, enable
the mode if ARG is omitted or nil.

This is a local minor mode.  When enabled, typing an operator automatically
inserts surrounding spaces, e.g., `=' might become ` = ',`+=' becomes ` += '.

With prefix-key ‚ÄòC-q‚Äô inserts character literally."
  :global nil
  :group 'electricity
  :lighter " _~_ "

  ;; body
  (if operator-mode
      (progn ;; (operator-setup)
	     (add-hook 'post-self-insert-hook
                       ;; #'operator-post-self-insert-function nil t)
		       #'operator-do nil t))
    (remove-hook 'post-self-insert-hook
		 ;; #'operator-post-self-insert-function t)))
		 #'operator-do t)))

(provide 'operator-mode)
;;; operator-mode.el ends here
